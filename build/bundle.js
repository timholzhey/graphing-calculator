(()=>{"use strict";var t={85:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDomain=e.canvasDrawFunction=e.canvasDraw=e.initCanvas=e.mainCanvas=void 0;const o=n(283),r=n(607),a=n(750),s=n(984),l=n(99);e.mainCanvas=document.getElementById("main-canvas");const i=e.mainCanvas.getContext("2d"),u=document.querySelector(".zoom-in-button"),c=document.querySelector(".zoom-out-button"),E=new o.Vector(0,0);let f=1;const g=16,T=new o.Vector(0,0),h=new o.Vector(0,0);let M=!1,d=!0;const k=function(t){const e=(f*(t>0?1+.2*t:1/(1-.2*t))-f)/10;let n=0;const o=setInterval((function(){f+=e,(0,r.scheduleRedraw)(),n++,n>=10&&clearInterval(o)}),10)};e.initCanvas=function(){e.mainCanvas.addEventListener("mousedown",(function(t){T.set(E.x,E.y),h.set(t.clientX,t.clientY),M=!0})),(0,a.onMouseDrag)(e.mainCanvas,(t=>{M&&(E.x=T.x+t.x-h.x,E.y=T.y+t.y-h.y,(0,r.scheduleRedraw)())})),e.mainCanvas.addEventListener("mouseup",(()=>{M=!1})),e.mainCanvas.addEventListener("mouseleave",(()=>{M=!1})),e.mainCanvas.addEventListener("wheel",(t=>{var e;e=-t.deltaY/200,f*=e>0?1+.2*e:1/(1-.2*e),(0,r.scheduleRedraw)()})),u.addEventListener("click",(()=>{k(1)})),c.addEventListener("click",(()=>{k(-1)})),(0,l.bindExternVariable)("scale",(()=>f),(t=>f=t)),(0,l.bindExternVariable)("grid",(()=>d?1:0),(t=>d=1===t))},e.canvasDraw=function(){i&&(e.mainCanvas.width=e.mainCanvas.clientWidth,e.mainCanvas.height=e.mainCanvas.clientHeight,i.clearRect(0,0,e.mainCanvas.width,e.mainCanvas.height),A())};const L=function(t,e,n,o){i&&(i.beginPath(),i.moveTo(t,e),i.lineTo(n,o),i.stroke())},A=function(){if(!i||!d)return;const t=e.mainCanvas.width,n=e.mainCanvas.height,o=t/n;i.strokeStyle="#fff",i.lineWidth=2,L(t/2+E.x,0,t/2+E.x,n),L(0,n/2+E.y,t,n/2+E.y);const r=Math.pow(2,Math.floor(Math.log(f)/Math.log(2))),a=n/g/r*f;let s=-Math.floor(g/f/2*r)/r-Math.floor(E.y/a)/r-(E.y<0?1/r:0)-1/r;const l=(n%(2*a)-2*a)/2,u=E.y%a;for(let e=0;e<n+2*a;e+=a,s+=1/r)i.strokeStyle="#666",i.lineWidth=.5,L(0,e+l+u,t,e+l+u),i.strokeStyle="transparent",i.fillStyle="#fff",i.textAlign="right",0!==s&&(i.beginPath(),i.fillText((-s).toString(),t/2+E.x-10,e+l+u+4));const c=t/g/r/o*f;let T=-Math.floor(g/f/2*r*o)/r-Math.floor(E.x/c)/r-(E.x<0?1/r:0)-1/r;const h=(t%(2*c)-2*c)/2,M=E.x%c;for(let e=0;e<t+c;e+=c,T+=1/r)i.strokeStyle="#666",i.lineWidth=.5,L(e+h+M,0,e+h+M,n),i.strokeStyle="transparent",i.fillStyle="#fff",i.textAlign="center",0!==T?(i.beginPath(),i.fillText(T.toString(),e+h+M,n/2+E.y+20)):(i.beginPath(),i.fillText((-T).toString(),e+h+M-18,n/2+E.y+20))};e.canvasDrawFunction=function(t,n){if(!i||!t)return;const r=e.mainCanvas.width,a=e.mainCanvas.height,l=r/a;i.strokeStyle=n,i.lineWidth=2.5,i.fillStyle="transparent",i.beginPath();const u=r/g/l*f,c=E.x/u;let T=!0;for(let e=-8*l/f-c;e<8*l/f-c;e+=.01/f){const n=(0,s.constantEvalX)(t,e);if((0,s.constantEvalGetError)())return;const u=(0,o.map)(e,-8*l/f,8*l/f,0,r)+E.x,c=(0,o.map)(n,-8/f,8/f,a,0)+E.y;T&&(i.moveTo(u,c),T=!1),i.lineTo(u,c)}i.stroke()},e.getDomain=function(){const t=e.mainCanvas.width,n=e.mainCanvas.height,o=t/n,r=t/g/o*f,a=E.x/r,s=-8*o/f-a,l=8*o/f-a,i=n/g*f,u=E.y/i;return{minX:s,maxX:l,minY:-8/f+u,maxY:8/f+u}}},984:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.constantEvalGetError=e.constantEvalX=e.constantEval=void 0;const o=n(607),r=n(99),a=n(750),s=n(283);let l,i=null;e.constantEval=function(t){return t?(i=null,E(t)):0},e.constantEvalX=function(t,n){l=n;const o=(0,e.constantEval)(t);return l=null,o};const u=function(t){return console.error("Error during constant evaluation: "+t),i=t,0};e.constantEvalGetError=()=>i;const c=t=>null!=t&&"function"==typeof t[Symbol.iterator],E=function(t){var e;switch(t.op.tok){case r.Token.UNDEF:return u("Token UNDEFINED is not allowed");case r.Token.NONE:return 0;case r.Token.PAREN_OP:return u("Token OPEN PARENTHESIS is not allowed");case r.Token.PAREN_CL:return u("Token CLOSE PARENTHESIS is not allowed");case r.Token.BRACKET_OP:return u("Token OPEN BRACKET is not allowed");case r.Token.BRACKET_CL:return u("Token CLOSE BRACKET is not allowed");case r.Token.BRACE_OP:return u("Token OPEN BRACE is not allowed");case r.Token.BRACE_CL:return u("Token CLOSE BRACE is not allowed");case r.Token.NUM:return"number"!=typeof t.op.val?u("Token NUMBER must be a number"):t.op.val;case r.Token.CONST:return"number"!=typeof t.op.val?u("Token CONSTANT must be a number"):t.op.val;case r.Token.VAR:return null==l?u("Token VARIABLE is not defined"):l;case r.Token.VAR2:return u("Token VARIABLE2 is not allowed");case r.Token.TIME:return(0,o.scheduleRedraw)(),(0,o.getGlobalTime)();case r.Token.ADD:return null==t.left||null==t.right?u("Missing arguments for Token ADDITION"):E(t.left)+E(t.right);case r.Token.SUB:return null==t.left||null==t.right?u("Missing arguments for Token SUBTRACTION"):E(t.left)-E(t.right);case r.Token.MULT:return null==t.left||null==t.right?u("Missing arguments for Token MULTIPLICATION"):E(t.left)*E(t.right);case r.Token.DIV:return null==t.left||null==t.right?u("Missing arguments for Token DIVISION"):E(t.left)/E(t.right);case r.Token.POW:return null==t.left||null==t.right?u("Missing arguments for Token POWER"):Math.pow(E(t.left),E(t.right));case r.Token.SQRT:return null==t.right?u("Missing argument for Token SQUARE ROOT"):Math.sqrt(E(t.right));case r.Token.LOG:return null==t.right?u("Missing argument for Token LOGARITHM"):Math.log(E(t.right));case r.Token.EXP:return null==t.right?u("Missing argument for Token EXPOENTIAL"):Math.exp(E(t.right));case r.Token.SIN:return null==t.right?u("Missing argument for Token SINE"):Math.sin(E(t.right));case r.Token.COS:return null==t.right?u("Missing argument for Token COSINE"):Math.cos(E(t.right));case r.Token.TAN:return null==t.right?u("Missing argument for Token TANGENT"):Math.tan(E(t.right));case r.Token.ASIN:return null==t.right?u("Missing argument for Token ARC SINE"):Math.asin(E(t.right));case r.Token.SINH:return null==t.right?u("Missing argument for Token SINE HYPERBOLICUS"):Math.sinh(E(t.right));case r.Token.COSH:return null==t.right?u("Missing argument for Token COSINE HYPERBOLICUS"):Math.cosh(E(t.right));case r.Token.TANH:return null==t.right?u("Missing argument for Token TANGENT HYPERBOLICUS"):Math.tanh(E(t.right));case r.Token.ACOS:return null==t.right?u("Missing argument for Token ARC COSINE"):Math.acos(E(t.right));case r.Token.ATAN:return null==t.right?u("Missing argument for Token ARC TANGENT"):Math.atan(E(t.right));case r.Token.FLOOR:return null==t.right?u("Missing argument for Token FLOOR"):Math.floor(E(t.right));case r.Token.MIN:return null==t.right?u("Missing argument for Token MIN"):c(E(t.right))?Math.min(...E(t.right)):u("Malformed argument for Token MIN");case r.Token.MAX:return null==t.right?u("Missing argument for Token MAX"):c(E(t.right))?Math.max(...E(t.right)):u("Malformed argument for Token MAX");case r.Token.DELIM:return null==t.left||null==t.right?u("Missing arguments for Token DELIMITER"):[E(t.left),E(t.right)];case r.Token.ABS:return null==t.right?u("Missing argument for Token ABSOLUTE"):Math.abs(E(t.right));case r.Token.RAND:return null==t.right?u("Missing argument for Token RANDOM"):Math.random()*E(t.right);case r.Token.PERLIN:{if(null==t.right)return u("Missing arguments for Token PERLIN");if(!c(E(t.right)))return u("Malformed argument for Token PERLIN");const[e,n]=E(t.right);return(0,s.perlin2)(e,n)}case r.Token.MOD:return null==t.left||null==t.right?u("Missing arguments for Token MODULUS"):E(t.left)%E(t.right);case r.Token.LEVEL_SET:return u("Token LEVEL SET is not allowed");case r.Token.VECTOR_FIELD:return u("Token VECTOR FIELD is not allowed");case r.Token.LESS:return null==t.left||null==t.right?u("Missing arguments for Token LESS THAN"):E(t.left)<E(t.right)?1:0;case r.Token.GREATER:return null==t.left||null==t.right?u("Missing arguments for Token GREATER THAN"):E(t.left)>E(t.right)?1:0;case r.Token.LESS_OR_EQUAL:return null==t.left||null==t.right?u("Missing arguments for Token LESS THAN OR EQUAL TO"):E(t.left)<=E(t.right)?1:0;case r.Token.GREATER_OR_EQUAL:return null==t.left||null==t.right?u("Missing arguments for Token GREATER THAN OR EQUAL TO"):E(t.left)>=E(t.right)?1:0;case r.Token.EQUAL:return null==t.left||null==t.right?u("Missing arguments for Token EQUAL TO"):E(t.left)-E(t.right)<1e-5?1:0;case r.Token.AND:return null==t.left||null==t.right?u("Missing arguments for Token AND"):E(t.left)&&E(t.right)?1:0;case r.Token.OR:return null==t.left||null==t.right?u("Missing arguments for Token OR"):E(t.left)||E(t.right)?1:0;case r.Token.USERVAR:return(0,r.getUserVariable)(t.op.val);case r.Token.FACTORIAL:return null==t.right?u("Missing argument for Token FACTORIAL"):(0,s.factorial)(E(t.right));case r.Token.SIGMOID:return null==t.right?u("Missing argument for Token SIGMOID"):(0,s.sigmoid)(E(t.right));case r.Token.CIRCLE:return u("Token CIRCLE is not allowed");case r.Token.POINT:return u("Token POINT is not allowed");case r.Token.TRUE:return 1;case r.Token.FALSE:return 0;case r.Token.POLAR:return u("Token POLAR is not allowed");case r.Token.CARTESIAN:return u("Token CARTESIAN is not allowed");case r.Token.MOUSEX:return(0,a.getMousePos)().x;case r.Token.MOUSEY:return(0,a.getMousePos)().y;case r.Token.MOUSE:return[(0,a.getMousePos)().x,(0,a.getMousePos)().y];case r.Token.ASSIGN:return null==t.left||null==t.right?u("Missing arguments for Token ASSIGN"):t.left.op.tok!==r.Token.ASSIGNABLE?t.left.op.tok===r.Token.USERVAR?((0,r.setUserVariable)(t.left.op.val,E(t.right)),E(t.right)):u("Left side of ASSIGN must be assignable"):null==(0,r.getExternVariable)(t.left.op.val)?u(`Variable ${t.left.op.val} does not exist`):(null===(e=(0,r.getExternVariable)(t.left.op.val))||void 0===e||e.set(E(t.right)),E(t.right));default:return u(`Unknown token ${t.op.val}`)}}},533:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotsShaderInfo=e.drawPlots=e.drivePlots=e.loadPlots=e.resetPlots=e.setNumInputs=e.setInputAt=void 0;const o=n(607),r=n(85),a=n(195),s=n(103),l=n(849),i=n(320),u=n(984),c=[];let E=0;e.setInputAt=(t,e)=>{t<0||t>E||(c[t]||(c[t]=g(t),(0,i.inputSetColorAt)(t,c[t].color)),c[t].input=e,c[t].inputChanged=!0,(0,o.scheduleRedraw)())},e.setNumInputs=t=>{E=t;for(let t=E;t<c.length;t++)delete c[t];(0,o.scheduleRedraw)()},e.resetPlots=()=>{c.length=0,(0,o.scheduleRedraw)()};const f=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];e.loadPlots=function(t){(0,i.resetInputs)(),(0,e.setNumInputs)(t.length);for(let e=0;e<t.length;e++)(0,i.addNewInputWithValue)(t[e])};const g=function(t){return{input:"",inputChanged:!1,ast:null,status:a.PlotStatus.PENDING,driver:a.PlotDriver.CANVAS,displayMode:a.PlotDisplayMode.NONE,shaderFunction:"",continuous:!1,color:(e=t,f[(e-1)%f.length]),error:""};var e};e.drivePlots=()=>{for(let t=1;t<=E;t++){c[t]||(c[t]=g(t),(0,i.inputSetColorAt)(t,c[t].color));const e=c[t];if(e.inputChanged){e.inputChanged=!1;const n=e.status;if(0===e.input.trim().length){e.status=a.PlotStatus.PENDING,e.ast=null,n!==e.status&&(0,i.inputSetStatusAt)(t,e.status),(0,o.scheduleRedraw)();continue}const r=e.ast;e.ast=(0,s.parse)(e.input),console.debug("Parsed AST:",e.ast);const u=e.error,c=(0,s.parserGetError)();c?(e.status=a.PlotStatus.ERROR,e.error=c.desc):(e.status=a.PlotStatus.ACTIVE,e.error=""),JSON.stringify(r)!==JSON.stringify(e.ast)&&(0,o.scheduleRedraw)();const E=(0,s.parserGetDriver)();if(e.driver!==E&&(e.driver=E,(0,i.inputSetDriverAt)(t,E)),e.displayMode=(0,s.parserGetDisplayMode)(),e.driver===a.PlotDriver.WEBGL){e.shaderFunction=(0,l.buildShaderFunction)(e.ast)||"undefined";const t=(0,l.shaderFunctionBuilderGetError)();t&&(e.status=a.PlotStatus.ERROR,e.error=t)}e.continuous=(0,s.parserGetContinuous)(),e.status!==n&&(0,i.inputSetStatusAt)(t,e.status),e.error!==u&&(0,i.inputSetErrorAt)(t,e.error)}}},e.drawPlots=()=>{for(let t=1;t<=E;t++){const e=c[t];if(e&&e.status===a.PlotStatus.ACTIVE){switch(e.driver){case a.PlotDriver.CONSTANT:{const n=(0,u.constantEval)(e.ast);(0,i.inputSetConstEvalAt)(t,n);const o=(0,u.constantEvalGetError)();o&&(e.status=a.PlotStatus.ERROR,e.error=o,(0,i.inputSetStatusAt)(t,e.status),(0,i.inputSetErrorAt)(t,e.error));break}case a.PlotDriver.CANVAS:{(0,r.canvasDrawFunction)(e.ast,e.color);const n=(0,u.constantEvalGetError)();n&&(e.status=a.PlotStatus.ERROR,e.error=n,(0,i.inputSetStatusAt)(t,e.status),(0,i.inputSetErrorAt)(t,e.error));break}case a.PlotDriver.WEBGL:}e.continuous&&(0,o.scheduleRedraw)()}}},e.getPlotsShaderInfo=()=>{const t=[],e=[],n=[];let o=0;for(let r=1;r<=E;r++){const s=c[r];s&&s.driver===a.PlotDriver.WEBGL&&s.status===a.PlotStatus.ACTIVE&&s.driver===a.PlotDriver.WEBGL&&(t.push(s.shaderFunction),e.push(s.color),n.push(s.displayMode),o++)}return{functions:t,colors:e,displayModes:n,numPlots:o}}},195:(t,e)=>{var n,o,r;Object.defineProperty(e,"__esModule",{value:!0}),e.PlotDriver=e.PlotStatus=e.PlotDisplayMode=void 0,(r=e.PlotDisplayMode||(e.PlotDisplayMode={}))[r.NONE=0]="NONE",r[r.CONSTANT_EVAL=1]="CONSTANT_EVAL",r[r.FUNCTION_GRAPH=2]="FUNCTION_GRAPH",r[r.SET=3]="SET",r[r.LEVEL_SET=4]="LEVEL_SET",r[r.VECTOR_FIELD=5]="VECTOR_FIELD",(o=e.PlotStatus||(e.PlotStatus={}))[o.PENDING=0]="PENDING",o[o.ACTIVE=1]="ACTIVE",o[o.ERROR=2]="ERROR",(n=e.PlotDriver||(e.PlotDriver={}))[n.CONSTANT=0]="CONSTANT",n[n.CANVAS=1]="CANVAS",n[n.WEBGL=2]="WEBGL"},99:(t,e)=>{var n,o;Object.defineProperty(e,"__esModule",{value:!0}),e.lex=e.clearUserVariables=e.getUserVariable=e.setUserVariable=e.getExternVariable=e.unbindExternVariable=e.bindExternVariable=e.lexerGetError=e.TokenFlag=e.Token=void 0,function(t){t[t.UNDEF=0]="UNDEF",t[t.NONE=1]="NONE",t[t.VAR=2]="VAR",t[t.VAR2=3]="VAR2",t[t.NUM=4]="NUM",t[t.CONST=5]="CONST",t[t.PAREN_OP=6]="PAREN_OP",t[t.PAREN_CL=7]="PAREN_CL",t[t.BRACKET_OP=8]="BRACKET_OP",t[t.BRACKET_CL=9]="BRACKET_CL",t[t.BRACE_OP=10]="BRACE_OP",t[t.BRACE_CL=11]="BRACE_CL",t[t.DELIM=12]="DELIM",t[t.ASSIGN=13]="ASSIGN",t[t.ASSIGNABLE=14]="ASSIGNABLE",t[t.LESS=15]="LESS",t[t.GREATER=16]="GREATER",t[t.LESS_OR_EQUAL=17]="LESS_OR_EQUAL",t[t.GREATER_OR_EQUAL=18]="GREATER_OR_EQUAL",t[t.USERVAR=19]="USERVAR",t[t.ADD=20]="ADD",t[t.SUB=21]="SUB",t[t.MULT=22]="MULT",t[t.DIV=23]="DIV",t[t.POW=24]="POW",t[t.AND=25]="AND",t[t.OR=26]="OR",t[t.NOT_EQUAL=27]="NOT_EQUAL",t[t.EQUAL=28]="EQUAL",t[t.TRUE=29]="TRUE",t[t.FALSE=30]="FALSE",t[t.SQRT=31]="SQRT",t[t.EXP=32]="EXP",t[t.LOG=33]="LOG",t[t.SIN=34]="SIN",t[t.COS=35]="COS",t[t.TAN=36]="TAN",t[t.ASIN=37]="ASIN",t[t.ACOS=38]="ACOS",t[t.ATAN=39]="ATAN",t[t.SINH=40]="SINH",t[t.COSH=41]="COSH",t[t.TANH=42]="TANH",t[t.FLOOR=43]="FLOOR",t[t.MIN=44]="MIN",t[t.MAX=45]="MAX",t[t.ABS=46]="ABS",t[t.MOD=47]="MOD",t[t.RAND=48]="RAND",t[t.PERLIN=49]="PERLIN",t[t.FACTORIAL=50]="FACTORIAL",t[t.SIGMOID=51]="SIGMOID",t[t.LEVEL_SET=52]="LEVEL_SET",t[t.VECTOR_FIELD=53]="VECTOR_FIELD",t[t.CIRCLE=54]="CIRCLE",t[t.POINT=55]="POINT",t[t.TIME=56]="TIME",t[t.COMPLEX=57]="COMPLEX",t[t.POLAR=58]="POLAR",t[t.CARTESIAN=59]="CARTESIAN",t[t.MOUSEX=60]="MOUSEX",t[t.MOUSEY=61]="MOUSEY",t[t.MOUSE=62]="MOUSE"}(n=e.Token||(e.Token={})),function(t){t[t.IMPL_MULT_BEFORE=1]="IMPL_MULT_BEFORE",t[t.IMPL_MULT_AFTER=2]="IMPL_MULT_AFTER",t[t.PREFIX=4]="PREFIX",t[t.UNIQUE=16]="UNIQUE",t[t.BEGIN_SCOPE=32]="BEGIN_SCOPE",t[t.END_SCOPE=64]="END_SCOPE",t[t.WEBGL_ONLY=128]="WEBGL_ONLY"}(o=e.TokenFlag||(e.TokenFlag={}));const r={"(":{tok:n.PAREN_OP,flags:o.IMPL_MULT_BEFORE|o.UNIQUE|o.BEGIN_SCOPE},")":{tok:n.PAREN_CL,flags:o.IMPL_MULT_AFTER|o.UNIQUE|o.END_SCOPE},"[":{tok:n.BRACKET_OP,flags:o.IMPL_MULT_BEFORE|o.UNIQUE|o.BEGIN_SCOPE},"]":{tok:n.BRACKET_CL,flags:o.IMPL_MULT_AFTER|o.UNIQUE|o.END_SCOPE},"{":{tok:n.BRACE_OP,flags:o.IMPL_MULT_BEFORE|o.UNIQUE|o.BEGIN_SCOPE},"}":{tok:n.BRACE_CL,flags:o.IMPL_MULT_AFTER|o.UNIQUE|o.END_SCOPE},",":{tok:n.DELIM,flags:o.UNIQUE},"=":{tok:n.ASSIGN,flags:0},x:{tok:n.VAR,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER},y:{tok:n.VAR2,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER|o.WEBGL_ONLY},"<":{tok:n.LESS,flags:0},">":{tok:n.GREATER,flags:0},"<=":{tok:n.LESS_OR_EQUAL,flags:o.UNIQUE},">=":{tok:n.GREATER_OR_EQUAL,flags:o.UNIQUE},"!=":{tok:n.NOT_EQUAL,flags:o.UNIQUE},"==":{tok:n.EQUAL,flags:o.UNIQUE},"&&":{tok:n.AND,flags:o.UNIQUE},"||":{tok:n.OR,flags:o.UNIQUE},"+":{tok:n.ADD,flags:o.UNIQUE},"-":{tok:n.SUB,flags:o.UNIQUE},"*":{tok:n.MULT,flags:0},"/":{tok:n.DIV,flags:o.UNIQUE},"^":{tok:n.POW,flags:o.UNIQUE},"**":{tok:n.POW,flags:o.UNIQUE},"%":{tok:n.MOD,flags:0},mod:{tok:n.MOD,flags:0},true:{tok:n.TRUE,flags:0},false:{tok:n.FALSE,flags:0},sqrt:{tok:n.SQRT,flags:o.IMPL_MULT_BEFORE|o.PREFIX},exp:{tok:n.EXP,flags:o.IMPL_MULT_BEFORE|o.PREFIX},log:{tok:n.LOG,flags:o.IMPL_MULT_BEFORE|o.PREFIX},ln:{tok:n.LOG,flags:o.IMPL_MULT_BEFORE|o.PREFIX},sin:{tok:n.SIN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},cos:{tok:n.COS,flags:o.IMPL_MULT_BEFORE|o.PREFIX},tan:{tok:n.TAN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},asin:{tok:n.ASIN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},acos:{tok:n.ACOS,flags:o.IMPL_MULT_BEFORE|o.PREFIX},atan:{tok:n.ATAN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},arcsin:{tok:n.ASIN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},arccos:{tok:n.ACOS,flags:o.IMPL_MULT_BEFORE|o.PREFIX},arctan:{tok:n.ATAN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},sinh:{tok:n.SINH,flags:o.IMPL_MULT_BEFORE|o.PREFIX},cosh:{tok:n.COSH,flags:o.IMPL_MULT_BEFORE|o.PREFIX},tanh:{tok:n.TANH,flags:o.IMPL_MULT_BEFORE|o.PREFIX},floor:{tok:n.FLOOR,flags:o.IMPL_MULT_BEFORE|o.PREFIX},min:{tok:n.MIN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},max:{tok:n.MAX,flags:o.IMPL_MULT_BEFORE|o.PREFIX},abs:{tok:n.ABS,flags:o.IMPL_MULT_BEFORE|o.PREFIX},rand:{tok:n.RAND,flags:o.IMPL_MULT_BEFORE|o.PREFIX},random:{tok:n.RAND,flags:o.IMPL_MULT_BEFORE|o.PREFIX},perlin:{tok:n.PERLIN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},noise:{tok:n.PERLIN,flags:o.IMPL_MULT_BEFORE|o.PREFIX},fact:{tok:n.FACTORIAL,flags:o.IMPL_MULT_BEFORE|o.PREFIX},factorial:{tok:n.FACTORIAL,flags:o.IMPL_MULT_BEFORE|o.PREFIX},sigmoid:{tok:n.SIGMOID,flags:o.IMPL_MULT_BEFORE|o.PREFIX},Level:{tok:n.LEVEL_SET,flags:o.IMPL_MULT_BEFORE|o.PREFIX|o.WEBGL_ONLY},Niveau:{tok:n.LEVEL_SET,flags:o.IMPL_MULT_BEFORE|o.PREFIX|o.WEBGL_ONLY},VectorField:{tok:n.VECTOR_FIELD,flags:o.IMPL_MULT_BEFORE|o.PREFIX},"|":{tok:n.ABS,flags:o.BEGIN_SCOPE|o.END_SCOPE},Circle:{tok:n.CIRCLE,flags:o.PREFIX|o.WEBGL_ONLY},Point:{tok:n.POINT,flags:o.PREFIX|o.WEBGL_ONLY},Polar:{tok:n.POLAR,flags:o.IMPL_MULT_BEFORE|o.PREFIX|o.WEBGL_ONLY},Pol:{tok:n.POLAR,flags:o.IMPL_MULT_BEFORE|o.PREFIX|o.WEBGL_ONLY},Cartesian:{tok:n.CARTESIAN,flags:o.IMPL_MULT_BEFORE|o.PREFIX|o.WEBGL_ONLY},Cart:{tok:n.CARTESIAN,flags:o.IMPL_MULT_BEFORE|o.PREFIX|o.WEBGL_ONLY},t:{tok:n.TIME,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER},mouseX:{tok:n.MOUSEX,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER},mouseY:{tok:n.MOUSEY,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER},mouse:{tok:n.MOUSE,flags:0}},a={pi:Math.PI,Pi:Math.PI,e:Math.E};let s=null;e.lexerGetError=()=>s;const l=t=>/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t),i={};e.bindExternVariable=(t,e,n)=>{i[t]={get:e,set:n}},e.unbindExternVariable=t=>{delete i[t]},e.getExternVariable=t=>i[t];let u={};e.setUserVariable=(t,e)=>{u[t]=e},e.getUserVariable=t=>u[t]||0,e.clearUserVariables=()=>{u={}},e.lex=t=>{s=null;const e=(t=t.replace(/\s/g,"")).split(new RegExp(`(${Object.keys(r).filter((t=>r[t].flags&o.UNIQUE)).map((t=>(t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t))).join("|")})`,"g")).filter((t=>""!==t)),u=[];let c=0;return e.forEach((t=>{let e=0;for(let g=t.length;g>e;g--){const T=t.substring(e,g);let h=!1;if(r[T])u.push({tok:r[T].tok,val:0,flags:r[T].flags}),h=!0;else if(a[T])u.push({tok:n.CONST,val:a[T],flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER}),h=!0;else if(i[T])u.push({tok:n.ASSIGNABLE,val:T,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER}),h=!0;else if(isNaN(Number(T))){if(g-1===e){let r="";for(let n=e+1;n<=t.length;n++){const o=t.substring(e,n);if(!l(o))break;r=o}if(""!==r){u.push({tok:n.USERVAR,val:r,flags:o.IMPL_MULT_BEFORE|o.IMPL_MULT_AFTER}),e+=r.length,g=t.length+1;continue}return E=`Unknown token: ´${t.substring(e,t.length)}´`,f=c+e,console.error(`Error at position ${f}: ${E}`),s={desc:E,pos:f},[]}}else u.push({tok:n.NUM,val:parseFloat(T),flags:o.IMPL_MULT_AFTER}),h=!0;h&&(e=g,g=t.length+1)}var E,f;c+=t.length})),u}},103:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parse=e.parserGetDisplayMode=e.parserGetDriver=e.parserGetContinuous=e.parserGetError=void 0;const o=n(195),r=n(99),a={[r.Token.OR]:0,[r.Token.DELIM]:1,[r.Token.AND]:2,[r.Token.EQUAL]:3,[r.Token.NOT_EQUAL]:3,[r.Token.ASSIGN]:3,[r.Token.LESS]:4,[r.Token.LESS_OR_EQUAL]:4,[r.Token.GREATER]:4,[r.Token.GREATER_OR_EQUAL]:4,[r.Token.ADD]:5,[r.Token.SUB]:5,[r.Token.MULT]:6,[r.Token.DIV]:6,[r.Token.MOD]:6,[r.Token.POW]:7},s=(t,e)=>{console.error(`Error at position ${e}: ${t}`),l={desc:t,pos:e}};let l=null,i=!1,u=o.PlotDriver.CONSTANT,c=o.PlotDisplayMode.NONE;e.parserGetError=()=>l,e.parserGetContinuous=()=>i,e.parserGetDriver=()=>u,e.parserGetDisplayMode=()=>c,e.parse=t=>{l=null,i=!1,u=o.PlotDriver.CONSTANT,c=o.PlotDisplayMode.NONE;let e=(0,r.lex)(t);console.debug("Lexer output:",e);const n=(0,r.lexerGetError)();if(n)return l=JSON.parse(JSON.stringify(n)),null;const a=(e.filter((t=>t.tok===r.Token.VAR)).length>0?1:0)+(e.filter((t=>t.tok===r.Token.VAR2)).length>0?1:0);return e.filter((t=>t.flags&r.TokenFlag.WEBGL_ONLY)).length>0?(u=o.PlotDriver.WEBGL,c=o.PlotDisplayMode.SET,e.filter((t=>t.tok===r.Token.LEVEL_SET)).length>0?c=o.PlotDisplayMode.LEVEL_SET:e.filter((t=>t.tok===r.Token.VECTOR_FIELD)).length>0&&(c=o.PlotDisplayMode.VECTOR_FIELD)):0===a?(u=o.PlotDriver.CONSTANT,c=o.PlotDisplayMode.CONSTANT_EVAL):1===a&&(u=o.PlotDriver.CANVAS,c=o.PlotDisplayMode.FUNCTION_GRAPH),i=e.filter((t=>t.tok===r.Token.TIME)).length>0||e.filter((t=>t.tok===r.Token.MOUSEX)).length>0||e.filter((t=>t.tok===r.Token.MOUSEY)).length>0,e=E(e),console.debug("Validated ops:",e),null==e?null:(e=f(e),console.debug("Expanded ops:",e),null==e?null:(e=g(e),console.debug("Optimized ops:",e),null==e?null:T(e)))};const E=t=>{const e=[];for(let n=0;n<t.length;n++){const o=t[n];if(o.flags&r.TokenFlag.BEGIN_SCOPE&&e.push({tok:o.tok,pos:n}),o.flags&r.TokenFlag.END_SCOPE){const{tok:t,pos:n}=e.pop()||{tok:r.Token.NONE,pos:0};let a=r.Token.NONE;switch(t){case r.Token.PAREN_OP:a=r.Token.PAREN_CL;break;case r.Token.BRACKET_OP:a=r.Token.BRACKET_CL;break;case r.Token.BRACE_OP:a=r.Token.BRACE_CL;break;case r.Token.ABS:a=r.Token.ABS}if(o.tok!==a)return s("Mismatched parentheses",n),null}}if(e.length>0){const{pos:t}=e[0];return s("Unmatched parentheses",t),null}return t},f=t=>{const e=[];for(let n=0;n<t.length;n++){const o=t[n];if(o.tok===r.Token.ABS&&o.flags&r.TokenFlag.BEGIN_SCOPE){const a=e.pop();if(e.push({tok:o.tok,pos:n}),!a)continue;const s=t.splice(a.pos+1,n-a.pos-1);t.splice(a.pos,2),t.splice(a.pos,0,{tok:r.Token.ABS,val:0,flags:r.TokenFlag.IMPL_MULT_BEFORE|r.TokenFlag.PREFIX},{tok:r.Token.PAREN_OP,val:0,flags:r.TokenFlag.IMPL_MULT_BEFORE|r.TokenFlag.UNIQUE|r.TokenFlag.BEGIN_SCOPE},...s,{tok:r.Token.PAREN_CL,val:0,flags:r.TokenFlag.IMPL_MULT_AFTER|r.TokenFlag.UNIQUE|r.TokenFlag.END_SCOPE}),n=a.pos+s.length+3,e.pop()}}for(let e=0;e<t.length;e++)t[e].tok===r.Token.MOUSE&&(t.splice(e,1,{tok:r.Token.MOUSEX,val:0,flags:r.TokenFlag.IMPL_MULT_BEFORE},{tok:r.Token.DELIM,val:0,flags:0},{tok:r.Token.MOUSEY,val:0,flags:r.TokenFlag.IMPL_MULT_BEFORE}),e+=2);for(let e=1;e<t.length;e++)t[e-1].flags&r.TokenFlag.IMPL_MULT_AFTER&&t[e].flags&r.TokenFlag.IMPL_MULT_BEFORE&&t.splice(e,0,{tok:r.Token.MULT,val:0,flags:0});for(let e=8;e>0;e--)for(let n=0;n<t.length;n++)if(a[t[n].tok]===e){let o=0,s=t.length,l=0;for(let s=n;s>=0;s--)if(t[s].flags&r.TokenFlag.BEGIN_SCOPE?l++:t[s].flags&r.TokenFlag.END_SCOPE&&l--,a[t[s].tok]<e&&0===l||l>0){o=s+1;break}l=0;for(let o=n;o<t.length;o++)if(t[o].flags&r.TokenFlag.BEGIN_SCOPE?l++:t[o].flags&r.TokenFlag.END_SCOPE&&l--,a[t[o].tok]<e&&0===l||l<0){s=o;break}t.splice(s,0,{tok:r.Token.PAREN_CL,val:0,flags:r.TokenFlag.IMPL_MULT_AFTER|r.TokenFlag.UNIQUE|r.TokenFlag.END_SCOPE}),t.splice(o,0,{tok:r.Token.PAREN_OP,val:0,flags:r.TokenFlag.IMPL_MULT_BEFORE|r.TokenFlag.UNIQUE|r.TokenFlag.BEGIN_SCOPE}),n++}for(let e=0;e<t.length;e++)t[e].tok===r.Token.SUB&&(0===e||t[e-1].flags&r.TokenFlag.BEGIN_SCOPE)&&t.splice(e,0,{tok:r.Token.NUM,val:0,flags:r.TokenFlag.IMPL_MULT_AFTER});return t},g=t=>{let e=0;for(let n=0;n<t.length;n++)if(t[n].tok===r.Token.SUB)e++;else{if(e>1)if(e%2==1)for(let o=0;o<e-1;o++)t.splice(n-e,1);else{for(let o=0;o<e;o++)t.splice(n-e,1);t.splice(n-e,0,{tok:r.Token.ADD,val:0,flags:0})}e=0}for(let e=1;e<t.length;e++)t[e].flags&r.TokenFlag.END_SCOPE&&t[e-1].flags&r.TokenFlag.BEGIN_SCOPE&&t.splice(e-1,2);return t},T=t=>{const e={op:{tok:r.Token.NONE,val:0,flags:0},left:null,right:null};let n=e;const o=[];let a=0;for(let e=0;e<t.length;e++){const l=t[e];if(l.flags&r.TokenFlag.BEGIN_SCOPE)a++;else if(l.flags&r.TokenFlag.END_SCOPE){if(a<=0)return s("Unexpected end of scope",e),null;a--,n=o.pop();continue}if(null==n.op||n.op.tok===r.Token.NONE||n.op.flags&r.TokenFlag.BEGIN_SCOPE)n.op=l,n.op.flags&r.TokenFlag.BEGIN_SCOPE&&o.push(n);else if(null==n.left){if(n.op.flags&r.TokenFlag.PREFIX){n.left={op:{tok:r.Token.UNDEF,val:0,flags:0},left:null,right:null},n.right={op:l,left:null,right:null},n.right.op.flags&r.TokenFlag.BEGIN_SCOPE&&(o.push(n),n=n.right);continue}const t=JSON.parse(JSON.stringify(n));n.left=t,n.op=l}else if(null==n.right||n.right.op.flags&r.TokenFlag.BEGIN_SCOPE)n.right={op:l,left:null,right:null},n.right.op.flags&r.TokenFlag.BEGIN_SCOPE&&(o.push(n),n=n.right);else if(n.right.op.flags&r.TokenFlag.PREFIX&&null==n.right.right)o.push(n),n=n.right,n.right={op:l,left:null,right:null};else{const t=JSON.parse(JSON.stringify(n));n.left=t,n.right=null,n.op=l}}return 0!==a?(s("Unexpected end of expression",t.length),null):e}},682:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,a){function s(t){try{i(o.next(t))}catch(t){a(t)}}function l(t){try{i(o.throw(t))}catch(t){a(t)}}function i(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}i((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.shadersDraw=e.scheduleReloadShaders=e.shaderCoreUpdate=e.initShaderCore=e.shadersClearAll=void 0;const r=n(607),a=n(85),s=n(533),l=n(195),i=n(633),u=n(750);let c=null,E=null,f=!1,g=!1,T=!1;const h={},M=document.getElementById("shader-canvas"),d=M.getContext("webgl2");function k(t){return o(this,void 0,void 0,(function*(){if(!h[t]){const e=yield fetch(t),n=yield e.text();return h[t]=n,n}return Promise.resolve(h[t])}))}function L(){return o(this,void 0,void 0,(function*(){f=!0,yield Promise.all([k("assets/shaders/plot.vert"),k("assets/shaders/plot.frag")]).then((t=>{t[1]=function(t){const e=(0,s.getPlotsShaderInfo)();return 0===e.numPlots&&(e.functions=[],e.colors=["#000000"],e.displayModes=[l.PlotDisplayMode.NONE]),e.functions.push("0.0"),t.replace(/USER_NUM_FUNC_INJ/g,`${e.numPlots+1}`).replace(/USER_FUNC_INJ/g,`float[](${e.functions.map((t=>`(${t})`)).join(",")})`).replace(/USER_COL_INJ/g,`vec3[](${e.colors.map((t=>{return`vec3(${e=t,`${parseInt(e.substring(1,3),16)/255}, ${parseInt(e.substring(3,5),16)/255}, ${parseInt(e.substring(5,7),16)/255}`})`;var e})).join(",")})`).replace(/USER_DISP_INJ/g,`int[](${e.displayModes.map((t=>`${t}`)).join(",")})`)}(t[1]);const e=function(t,e){const n=A(d.VERTEX_SHADER,t),o=A(d.FRAGMENT_SHADER,e);if(!n||!o)return null;const r=d.createProgram();return r?(d.attachShader(r,n),d.attachShader(r,o),d.linkProgram(r),d.getProgramParameter(r,d.LINK_STATUS)?r:(console.error("Failed to link program: "+d.getProgramInfoLog(r)),null)):(console.error("Failed to create program"),null)}(t[0],t[1]);e?(c={program:e,attribLocations:{vertexPosition:d.getAttribLocation(e,"aVertexPosition")},uniformLocations:{projectionMatrix:d.getUniformLocation(e,"uProjectionMatrix"),modelViewMatrix:d.getUniformLocation(e,"uModelViewMatrix"),u_resolution:d.getUniformLocation(e,"u_resolution"),u_mouse:d.getUniformLocation(e,"u_mouse"),u_time:d.getUniformLocation(e,"u_time"),u_deviation:d.getUniformLocation(e,"u_deviation"),u_domain_x:d.getUniformLocation(e,"u_domain_x"),u_domain_y:d.getUniformLocation(e,"u_domain_y"),u_display_mode:d.getUniformLocation(e,"u_display_mode")}},E=function(){const t=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,t);return d.bufferData(d.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),d.STATIC_DRAW),t}(),g=!0,f=!1):console.error("Failed to load shaders")}))}))}function A(t,e){const n=d.createShader(t);return n?(d.shaderSource(n,e),d.compileShader(n),d.getShaderParameter(n,d.COMPILE_STATUS)?n:(console.error("Failed to compile shader: "+d.getShaderInfoLog(n)),d.getShaderInfoLog(n),d.deleteShader(n),null)):(console.error("Failed to create shader"),null)}function R(){d.clearColor(0,0,0,1),d.clearDepth(1),d.enable(d.DEPTH_TEST),d.depthFunc(d.LEQUAL),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT);const t=45*Math.PI/180,e=d.canvas.clientWidth/d.canvas.clientHeight,n=i.create();i.perspective(n,t,e,.1,100);const o=i.create();i.translate(o,o,[0,0,-1]);const s=d.FLOAT;d.bindBuffer(d.ARRAY_BUFFER,E),d.vertexAttribPointer(c.attribLocations.vertexPosition,2,s,!1,0,0),d.enableVertexAttribArray(c.attribLocations.vertexPosition),d.useProgram(c.program);const l=(0,u.getMousePos)(),f=(0,a.getDomain)();d.uniformMatrix4fv(c.uniformLocations.projectionMatrix,!1,n),d.uniformMatrix4fv(c.uniformLocations.modelViewMatrix,!1,o),d.uniform2f(c.uniformLocations.u_resolution,d.canvas.width,d.canvas.height),d.uniform2f(c.uniformLocations.u_mouse,l.x,l.y),d.uniform2f(c.uniformLocations.u_domain_x,f.minX,f.maxX),d.uniform2f(c.uniformLocations.u_domain_y,f.minY,f.maxY),d.uniform1f(c.uniformLocations.u_time,(0,r.getGlobalTime)()),d.uniform1f(c.uniformLocations.u_deviation,.004),d.uniform1i(c.uniformLocations.u_display_mode,0),d.drawArrays(d.TRIANGLE_STRIP,0,4)}e.shadersClearAll=function(){(0,e.scheduleReloadShaders)()},e.initShaderCore=function(){M&&d||console.error("Failed to initialize WebGL context.")},e.shaderCoreUpdate=function(){g||f||T||(L(),T&&console.error("Failed to load shaders"))},e.scheduleReloadShaders=function(){T=!1,g=!1,f=!1},e.shadersDraw=function(){g=!1,!g||T?L().then((()=>{if(!g)return console.error("Failed to initialize shaders"),void d.clearColor(0,0,0,1);R()})):R()}},849:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buildShaderFunction=e.shaderFunctionBuilderGetError=void 0;const o=n(607),r=n(99);let a=null;e.shaderFunctionBuilderGetError=()=>a,e.buildShaderFunction=t=>t?(a=null,u(t)):null;const s=function(t){return console.error("Error during constant evaluation: "+t),a=t,null},l=function(t){return-1===t.toString().indexOf(".")?t.toString()+".0":t.toString()},i=t=>null!=t&&"function"==typeof t[Symbol.iterator],u=function(t){var e;switch(t.op.tok){case r.Token.UNDEF:return s("Token UNDEFINED is not allowed");case r.Token.NONE:return null;case r.Token.PAREN_OP:return s("Token OPEN PARENTHESIS is not allowed");case r.Token.PAREN_CL:return s("Token CLOSE PARENTHESIS is not allowed");case r.Token.BRACKET_OP:return s("Token OPEN BRACKET is not allowed");case r.Token.BRACKET_CL:return s("Token CLOSE BRACKET is not allowed");case r.Token.BRACE_OP:return s("Token OPEN BRACE is not allowed");case r.Token.BRACE_CL:return s("Token CLOSE BRACE is not allowed");case r.Token.NUM:return"number"!=typeof t.op.val?s("Token NUMBER must be a number"):l(t.op.val);case r.Token.CONST:return"number"!=typeof t.op.val?s("Token CONSTANT must be a number"):l(t.op.val);case r.Token.VAR:return"x";case r.Token.VAR2:return"y";case r.Token.TIME:return(0,o.scheduleRedraw)(),"t";case r.Token.ADD:return null==t.left||null==t.right?s("Missing arguments for Token ADDITION"):`(${u(t.left)}+${u(t.right)})`;case r.Token.SUB:return null==t.left||null==t.right?s("Missing arguments for Token SUBTRACTION"):`(${u(t.left)}-${u(t.right)})`;case r.Token.MULT:return null==t.left||null==t.right?s("Missing arguments for Token MULTIPLICATION"):`(${u(t.left)}*${u(t.right)})`;case r.Token.DIV:return null==t.left||null==t.right?s("Missing arguments for Token DIVISION"):`(${u(t.left)}/${u(t.right)})`;case r.Token.POW:return null==t.left||null==t.right?s("Missing arguments for Token POWER"):`pow(${u(t.left)},${u(t.right)})`;case r.Token.SQRT:return null==t.right?s("Missing argument for Token SQUARE ROOT"):`sqrt(${u(t.right)})`;case r.Token.LOG:return null==t.right?s("Missing argument for Token LOGARITHM"):`log(${u(t.right)})`;case r.Token.EXP:return null==t.right?s("Missing argument for Token EXPOENTIAL"):`exp(${u(t.right)})`;case r.Token.SIN:return null==t.right?s("Missing argument for Token SINE"):`sin(${u(t.right)})`;case r.Token.COS:return null==t.right?s("Missing argument for Token COSINE"):`cos(${u(t.right)})`;case r.Token.TAN:return null==t.right?s("Missing argument for Token TANGENT"):`tan(${u(t.right)})`;case r.Token.ASIN:return null==t.right?s("Missing argument for Token ARC SINE"):`asin(${u(t.right)})`;case r.Token.ACOS:return null==t.right?s("Missing argument for Token ARC COSINE"):`acos(${u(t.right)})`;case r.Token.ATAN:return null==t.right?s("Missing argument for Token ARC TANGENT"):`atan(${u(t.right)})`;case r.Token.SINH:return null==t.right?s("Missing argument for Token SINE HYPERBOLICUS"):`sinh(${u(t.right)})`;case r.Token.COSH:return null==t.right?s("Missing argument for Token COSINE HYPERBOLICUS"):`cosh(${u(t.right)})`;case r.Token.TANH:return null==t.right?s("Missing argument for Token TANGENT HYPERBOLICUS"):`tanh(${u(t.right)})`;case r.Token.FLOOR:return null==t.right?s("Missing argument for Token FLOOR"):`floor(${u(t.right)})`;case r.Token.MIN:return null==t.right?s("Missing argument for Token MIN"):i(u(t.right))?`min(${u(t.right)})`:s("Malformed argument for Token MIN");case r.Token.MAX:return null==t.right?s("Missing argument for Token MAX"):i(u(t.right))?`max(${u(t.right)})`:s("Malformed argument for Token MAX");case r.Token.DELIM:return null==t.left||null==t.right?s("Missing arguments for Token DELIMITER"):`${u(t.left)},${u(t.right)}`;case r.Token.ABS:return null==t.right?s("Missing argument for Token ABSOLUTE"):`abs(${u(t.right)})`;case r.Token.RAND:return null==t.right?s("Missing argument for Token RANDOM"):`random(${u(t.right)})`;case r.Token.PERLIN:return null==t.right?s("Missing arguments for Token PERLIN"):i(u(t.right))?`noise(vec2(${u(t.right)}))`:s("Malformed argument for Token PERLIN");case r.Token.MOD:return null==t.left||null==t.right?s("Missing arguments for Token MODULUS"):`mod(${u(t.left)},${u(t.right)})`;case r.Token.LEVEL_SET:return null==t.right?s("Missing argument for Token LEVEL SET"):t.right.op.tok===r.Token.DELIM?null==t.right.left||null==t.right.right?s("Missing arguments for Token LEVEL SET"):`${u(t.right.left)}+((level=${u(t.right.right)})>0.0?0.0:0.0)`:u(t.right);case r.Token.VECTOR_FIELD:return s("Token VECTOR FIELD is not allowed");case r.Token.LESS:return null==t.left||null==t.right?s("Missing arguments for Token LESS THAN"):`btof(${u(t.left)}<${u(t.right)})`;case r.Token.GREATER:return null==t.left||null==t.right?s("Missing arguments for Token GREATER THAN"):`btof(${u(t.left)}>${u(t.right)})`;case r.Token.LESS_OR_EQUAL:return null==t.left||null==t.right?s("Missing arguments for Token LESS THAN OR EQUAL TO"):`btof(${u(t.left)}<=${u(t.right)})`;case r.Token.GREATER_OR_EQUAL:return null==t.left||null==t.right?s("Missing arguments for Token GREATER THAN OR EQUAL TO"):`btof(${u(t.left)}>=${u(t.right)})`;case r.Token.EQUAL:return null==t.left||null==t.right?s("Missing arguments for Token EQUAL TO"):`btof(${u(t.left)}==${u(t.right)})`;case r.Token.AND:return null==t.left||null==t.right?s("Missing arguments for Token AND"):`btof(ftob(${u(t.left)})&&ftob(${u(t.right)}))`;case r.Token.OR:return null==t.left||null==t.right?s("Missing arguments for Token OR"):`btof(ftob(${u(t.left)})||ftob(${u(t.right)}))`;case r.Token.USERVAR:return`btof(${(0,r.getUserVariable)(t.op.val)})`;case r.Token.FACTORIAL:return null==t.right?s("Missing argument for Token FACTORIAL"):`factorial(${u(t.right)})`;case r.Token.SIGMOID:return null==t.right?s("Missing argument for Token SIGMOID"):`(1.0/(1.0+exp(-(${u(t.right)}))))`;case r.Token.CIRCLE:return null==t.right?s("Missing argument for Token CIRCLE"):`circle(x,y,d,${u(t.right)})`;case r.Token.POINT:return null==t.right?s("Missing argument for Token POINT"):`point(x,y,d,${u(t.right)})`;case r.Token.TRUE:return"btof(true)";case r.Token.FALSE:return"btof(false)";case r.Token.POLAR:return null==t.right?s("Missing argument for Token POLAR"):`(POLAR+${u(t.right)})`;case r.Token.CARTESIAN:return null==t.right?s("Missing argument for Token CARTESIAN"):`(CARTESIAN+${u(t.right)})`;case r.Token.MOUSEX:return"mx";case r.Token.MOUSEY:return"my";case r.Token.MOUSE:return s("Token MOUSE is not allowed");case r.Token.ASSIGN:return null==t.left||null==t.right?s("Missing arguments for Token ASSIGN"):t.left.op.tok!==r.Token.ASSIGNABLE?t.left.op.tok===r.Token.USERVAR?((0,r.setUserVariable)(t.left.op.val,parseFloat(u(t.right))),u(t.right)):`btof(abs(${u(t.left)}-${u(t.right)})<d)`:null==(0,r.getExternVariable)(t.left.op.val)?s(`Variable ${t.left.op.val} does not exist`):(null===(e=(0,r.getExternVariable)(t.left.op.val))||void 0===e||e.set(parseFloat(u(t.right))),u(t.right));default:return s(`Unknown token ${t.op.val}`)}}},320:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftPanelWidth=e.inputSetDriverAt=e.inputSetStatusAt=e.inputSetConstEvalAt=e.inputSetErrorAt=e.inputSetColorAt=e.resetInputs=e.addNewInputWithValue=e.addNewInput=e.initLeftPanel=void 0;const o=n(607),r=n(533),a=n(195),s=n(283),l=n(750),i=document.querySelector(".inputs"),u=document.querySelector(".resize-left-panel"),c=document.getElementById("left-panel");let E=0,f=0;e.initLeftPanel=function(){(0,l.onMouseDrag)(u,(t=>{const e=Math.max(250,Math.min(.95*window.innerWidth,t.x));document.documentElement.style.setProperty("--left-panel-width",`${e}px`),(0,o.scheduleRedraw)()})),(0,e.addNewInput)()},e.addNewInput=function(){const t=(0,s.stringToHTML)('\n\t<div class="input">\n\t<div class="status"><div class="indicator"></div></div>\n\t<input type="text" spellcheck="false" autocorrect="off" autocomplete="off" autocapitalize="off" autofocus>\n\t<div class="delete">×</div>\n\t<div class="const-eval"></div>\n\t</div>').firstChild,n=t.querySelector("input"),a=t.querySelector(".delete"),l=t.querySelector(".indicator");null==n||n.addEventListener("keydown",(function(t){if("Enter"===t.key){if(t.preventDefault(),f>E){const t=i.querySelector(`.input[data-input-idx="${++E}"]`);return T(t),void setTimeout((function(){var e;null===(e=t.querySelector("input"))||void 0===e||e.focus()}),0)}(0,e.addNewInput)()}})),n.addEventListener("click",(function(e){T(t),E=parseInt(t.getAttribute("data-input-idx")||"0"),null==n||n.focus()})),null==n||n.addEventListener("focus",(function(e){T(t),E=parseInt(t.getAttribute("data-input-idx")||"0")})),null==n||n.addEventListener("input",(function(e){E=parseInt(t.getAttribute("data-input-idx")||"0"),l.classList.contains("disabled")?(0,r.setInputAt)(E,""):(0,r.setInputAt)(E,n.value)})),null==a||a.addEventListener("click",(function(e){if(1===f){t.classList.add("illegal");const e=t.querySelector("input");e&&(e.value="");const n=t.querySelector(".indicator");null==n||n.classList.remove("pending","active","error","disabled");const a=t.querySelector(".const-eval");return null==a||a.classList.remove("visible"),setTimeout((()=>t.classList.remove("illegal")),200),(0,o.scheduleRedraw)(),void(0,r.resetPlots)()}t.classList.add("deleted"),setTimeout((function(){t.remove();const e=parseInt(t.getAttribute("data-input-idx")||"0");f--,(0,r.setNumInputs)(f);const o=i.querySelectorAll(".input");for(let t=0;t<o.length;t++){o[t].setAttribute("data-input-idx",(t+1).toString());const e=o[t].querySelector(".indicator");(null==e?void 0:e.classList.contains("disabled"))?(0,r.setInputAt)(t+1,""):(0,r.setInputAt)(t+1,n.value)}if(f>0&&(e<=E||1===e)){const t=i.querySelector(`.input[data-input-idx="${E-1}"]`);T(t),setTimeout((function(){var e;null===(e=t.querySelector("input"))||void 0===e||e.focus()}),0)}}),120)})),null==l||l.addEventListener("click",(function(e){l.classList.toggle("disabled"),E=parseInt(t.getAttribute("data-input-idx")||"0"),l.classList.contains("disabled")?(0,r.setInputAt)(E,""):(0,r.setInputAt)(E,n.value)})),t.setAttribute("data-input-idx",(++E).toString()),t.classList.add("created"),setTimeout((function(){t.classList.remove("created")}),120),f++,(0,r.setNumInputs)(f),T(t),setTimeout((function(){null==n||n.focus()}),0),i.appendChild(t)},e.addNewInputWithValue=function(t){(0,e.addNewInput)(),(0,r.setInputAt)(E,t);const n=i.querySelector(`.input[data-input-idx="${E}"] input`);n&&(n.value=t)},e.resetInputs=function(){const t=i.querySelectorAll(".input");for(let e=0;e<t.length;e++)t[e].remove();f=0,(0,r.setNumInputs)(f),E=0,(0,r.resetPlots)()};const g=function(t){return i.querySelector(`.input[data-input-idx="${t}"]`)};e.inputSetColorAt=function(t,e){var n;null===(n=g(t))||void 0===n||n.setAttribute("data-color",e)},e.inputSetErrorAt=function(t,e){const n=g(t);if(!n)return;const o=n.querySelector(".indicator");o&&o.setAttribute("data-error",e)},e.inputSetConstEvalAt=function(t,e){const n=g(t);if(!n)return;const o=n.querySelector(".const-eval");o&&(o.innerText="= "+e.toString(),o.classList.add("visible"))},e.inputSetStatusAt=function(t,e){const n=g(t);if(!n)return;const o=n.querySelector(".indicator");if(!o)return;o.classList.remove("pending","active","error");const r=n.querySelector(".const-eval");if(r)switch(e){case a.PlotStatus.PENDING:o.classList.add("pending"),o.innerHTML="",r.classList.remove("visible");break;case a.PlotStatus.ACTIVE:o.classList.add("active"),o.style.backgroundColor=n.getAttribute("data-color")||"#000",o.innerHTML="";break;case a.PlotStatus.ERROR:o.classList.add("error"),o.innerHTML="!",r.classList.remove("visible")}},e.inputSetDriverAt=function(t,e){const n=g(t);if(!n)return;const o=n.querySelector(".const-eval");o&&e!==a.PlotDriver.CONSTANT&&o.classList.remove("visible")};const T=function(t){i.querySelectorAll(".input").forEach((t=>{t.classList.remove("active")})),t.classList.add("active")};e.getLeftPanelWidth=function(){return c.offsetWidth}},139:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.initMenuBar=void 0;const o=n(533),r=n(283),a=document.getElementById("menu-bar");e.initMenuBar=function(){Array.from(a.querySelectorAll("button")).forEach((t=>{const e=t.dataset.icon||"",n=t.dataset.href||"",o=t.dataset.filter||"";if(e&&n){const a='<div class="button-icon"></div>',s=(0,r.stringToHTML)(a).firstChild;s.style.backgroundImage=`url('${e}')`,s.style.filter=o,t.appendChild(s),t.addEventListener("click",(()=>{window.open(n,"_blank")}))}})),document.querySelector(".demo-button").addEventListener("click",(()=>{fetch("assets/demo/demo1.json").then((t=>t.json())).then((t=>{(0,o.loadPlots)((null==t?void 0:t.plots)||[])}))}))}},750:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.initUserInteract=e.onMouseDrag=e.getMousePos=void 0;const o=n(283);let r,a=!1,s=!1;const l=new o.Vector(0,0),i=new Map;e.getMousePos=function(){return l},e.onMouseDrag=function(t,e){i.set(t,e)},e.initUserInteract=function(){document.addEventListener("mousedown",(function(t){s=!0})),document.addEventListener("mousemove",(function(t){if(s)if(l.set(t.clientX,t.clientY),a)r(l);else for(const[e,n]of i)if(null==e?void 0:e.contains(t.target))return n(l),a=!0,void(r=n)})),document.addEventListener("mouseup",(function(t){a=!1,s=!1}))}},283:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.sigmoid=e.factorial=e.perlin2=e.Vector=e.stringToHTML=void 0,e.stringToHTML=function(t){return(new DOMParser).parseFromString(t,"text/html").body},e.Vector=class{constructor(t,e){this.x=t,this.y=e}set(t,e){this.x=t,this.y=e}};const n=new Array(512),o=new Array(512),r=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];class a{constructor(t,e,n){this.x=t,this.y=e,this.z=n}}const s=[new a(1,1,0),new a(-1,1,0),new a(1,-1,0),new a(-1,-1,0),new a(1,0,1),new a(-1,0,1),new a(1,0,-1),new a(-1,0,-1),new a(0,1,1),new a(0,-1,1),new a(0,1,-1),new a(0,-1,-1)];function l(t){return t*t*t*(t*(6*t-15)+10)}function i(t,e,n){return(1-n)*t+n*e}!function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(let e=0;e<256;e++){let a;a=1&e?r[e]^255&t:r[e]^t>>8&255,n[e]=n[e+256]=a,o[e]=o[e+256]=s[a%12]}}(12345),e.perlin2=function(t,e){let r=Math.floor(t),a=Math.floor(e);t-=r,e-=a,r&=255,a&=255;const s=o[r+n[a]].dot2(t,e),u=o[r+n[a+1]].dot2(t,e-1),c=o[r+1+n[a]].dot2(t-1,e),E=o[r+1+n[a+1]].dot2(t-1,e-1),f=l(t);return i(i(s,c,f),i(u,E,f),l(e))},e.factorial=function(t){const e=Math.floor(t),n=t-e;let o=function(t){return(((((.07288448978215456*t-.31390051543712616)*t+.6538907084614038)*t-.810425715520978)*t+.9737655441276729)*t-.5761851668648887)*t+.9999830044034752}(n);if(t<0)for(let t=0;t<-e;t++)o/=n-t;else for(let t=1;t<e+1;t++)o*=n+t;return t>0?o:1/0},e.sigmoid=function(t){return 1/(1+Math.exp(-t))},e.map=function(t,e,n,o,r){return(t-e)/(n-e)*(r-o)+o}},607:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalTime=e.scheduleRedraw=void 0;const o=n(320),r=n(139),a=n(85),s=n(750),l=n(533),i=n(682);let u=!0,c=0;e.scheduleRedraw=function(){u=!0},e.getGlobalTime=()=>c,window.onload=function(){(0,s.initUserInteract)(),(0,r.initMenuBar)(),(0,o.initLeftPanel)(),(0,a.initCanvas)(),(0,i.initShaderCore)(),E()};const E=function(){u&&(u=!1,(0,a.canvasDraw)(),(0,i.shadersDraw)(),(0,l.drawPlots)()),(0,l.drivePlots)(),(0,i.shaderCoreUpdate)(),c+=.01,requestAnimationFrame(E)}},633:(t,e,n)=>{n.r(e),n.d(e,{add:()=>j,adjoint:()=>g,clone:()=>s,copy:()=>l,create:()=>a,decompose:()=>F,determinant:()=>T,equals:()=>tt,exactEquals:()=>Z,frob:()=>Y,fromQuat:()=>y,fromQuat2:()=>m,fromRotation:()=>O,fromRotationTranslation:()=>_,fromRotationTranslationScale:()=>b,fromRotationTranslationScaleOrigin:()=>B,fromScaling:()=>I,fromTranslation:()=>S,fromValues:()=>i,fromXRotation:()=>P,fromYRotation:()=>p,fromZRotation:()=>N,frustum:()=>D,getRotation:()=>C,getScaling:()=>U,getTranslation:()=>v,identity:()=>c,invert:()=>f,lookAt:()=>H,mul:()=>et,multiply:()=>h,multiplyScalar:()=>J,multiplyScalarAndAdd:()=>z,ortho:()=>X,orthoNO:()=>$,orthoZO:()=>Q,perspective:()=>G,perspectiveFromFieldOfView:()=>V,perspectiveNO:()=>x,perspectiveZO:()=>w,rotate:()=>k,rotateX:()=>L,rotateY:()=>A,rotateZ:()=>R,scale:()=>d,set:()=>u,str:()=>W,sub:()=>nt,subtract:()=>K,targetTo:()=>q,translate:()=>M,transpose:()=>E});var o=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array;function a(){const t=new r(16);return r!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function s(t){const e=new r(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function i(t,e,n,o,a,s,l,i,u,c,E,f,g,T,h,M){const d=new r(16);return d[0]=t,d[1]=e,d[2]=n,d[3]=o,d[4]=a,d[5]=s,d[6]=l,d[7]=i,d[8]=u,d[9]=c,d[10]=E,d[11]=f,d[12]=g,d[13]=T,d[14]=h,d[15]=M,d}function u(t,e,n,o,r,a,s,l,i,u,c,E,f,g,T,h,M){return t[0]=e,t[1]=n,t[2]=o,t[3]=r,t[4]=a,t[5]=s,t[6]=l,t[7]=i,t[8]=u,t[9]=c,t[10]=E,t[11]=f,t[12]=g,t[13]=T,t[14]=h,t[15]=M,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e){if(t===e){const n=e[1],o=e[2],r=e[3],a=e[6],s=e[7],l=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=a,t[11]=e[14],t[12]=r,t[13]=s,t[14]=l}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function f(t,e){const n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],i=e[6],u=e[7],c=e[8],E=e[9],f=e[10],g=e[11],T=e[12],h=e[13],M=e[14],d=e[15],k=n*l-o*s,L=n*i-r*s,A=n*u-a*s,R=o*i-r*l,S=o*u-a*l,I=r*u-a*i,O=c*h-E*T,P=c*M-f*T,p=c*d-g*T,N=E*M-f*h,_=E*d-g*h,m=f*d-g*M;let v=k*m-L*_+A*N+R*p-S*P+I*O;return v?(v=1/v,t[0]=(l*m-i*_+u*N)*v,t[1]=(r*_-o*m-a*N)*v,t[2]=(h*I-M*S+d*R)*v,t[3]=(f*S-E*I-g*R)*v,t[4]=(i*p-s*m-u*P)*v,t[5]=(n*m-r*p+a*P)*v,t[6]=(M*A-T*I-d*L)*v,t[7]=(c*I-f*A+g*L)*v,t[8]=(s*_-l*p+u*O)*v,t[9]=(o*p-n*_-a*O)*v,t[10]=(T*S-h*A+d*k)*v,t[11]=(E*A-c*S-g*k)*v,t[12]=(l*P-s*N-i*O)*v,t[13]=(n*N-o*P+r*O)*v,t[14]=(h*L-T*R-M*k)*v,t[15]=(c*R-E*L+f*k)*v,t):null}function g(t,e){const n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],i=e[6],u=e[7],c=e[8],E=e[9],f=e[10],g=e[11],T=e[12],h=e[13],M=e[14],d=e[15],k=n*l-o*s,L=n*i-r*s,A=n*u-a*s,R=o*i-r*l,S=o*u-a*l,I=r*u-a*i,O=c*h-E*T,P=c*M-f*T,p=c*d-g*T,N=E*M-f*h,_=E*d-g*h,m=f*d-g*M;return t[0]=l*m-i*_+u*N,t[1]=r*_-o*m-a*N,t[2]=h*I-M*S+d*R,t[3]=f*S-E*I-g*R,t[4]=i*p-s*m-u*P,t[5]=n*m-r*p+a*P,t[6]=M*A-T*I-d*L,t[7]=c*I-f*A+g*L,t[8]=s*_-l*p+u*O,t[9]=o*p-n*_-a*O,t[10]=T*S-h*A+d*k,t[11]=E*A-c*S-g*k,t[12]=l*P-s*N-i*O,t[13]=n*N-o*P+r*O,t[14]=h*L-T*R-M*k,t[15]=c*R-E*L+f*k,t}function T(t){const e=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],i=t[7],u=t[8],c=t[9],E=t[10],f=t[11],g=t[12],T=t[13],h=t[14],M=e*s-n*a,d=e*l-o*a,k=n*l-o*s,L=u*T-c*g,A=u*h-E*g,R=c*h-E*T;return i*(e*R-n*A+o*L)-r*(a*R-s*A+l*L)+t[15]*(u*k-c*d+E*M)-f*(g*k-T*d+h*M)}function h(t,e,n){const o=e[0],r=e[1],a=e[2],s=e[3],l=e[4],i=e[5],u=e[6],c=e[7],E=e[8],f=e[9],g=e[10],T=e[11],h=e[12],M=e[13],d=e[14],k=e[15];let L=n[0],A=n[1],R=n[2],S=n[3];return t[0]=L*o+A*l+R*E+S*h,t[1]=L*r+A*i+R*f+S*M,t[2]=L*a+A*u+R*g+S*d,t[3]=L*s+A*c+R*T+S*k,L=n[4],A=n[5],R=n[6],S=n[7],t[4]=L*o+A*l+R*E+S*h,t[5]=L*r+A*i+R*f+S*M,t[6]=L*a+A*u+R*g+S*d,t[7]=L*s+A*c+R*T+S*k,L=n[8],A=n[9],R=n[10],S=n[11],t[8]=L*o+A*l+R*E+S*h,t[9]=L*r+A*i+R*f+S*M,t[10]=L*a+A*u+R*g+S*d,t[11]=L*s+A*c+R*T+S*k,L=n[12],A=n[13],R=n[14],S=n[15],t[12]=L*o+A*l+R*E+S*h,t[13]=L*r+A*i+R*f+S*M,t[14]=L*a+A*u+R*g+S*d,t[15]=L*s+A*c+R*T+S*k,t}function M(t,e,n){const o=n[0],r=n[1],a=n[2];let s,l,i,u,c,E,f,g,T,h,M,d;return e===t?(t[12]=e[0]*o+e[4]*r+e[8]*a+e[12],t[13]=e[1]*o+e[5]*r+e[9]*a+e[13],t[14]=e[2]*o+e[6]*r+e[10]*a+e[14],t[15]=e[3]*o+e[7]*r+e[11]*a+e[15]):(s=e[0],l=e[1],i=e[2],u=e[3],c=e[4],E=e[5],f=e[6],g=e[7],T=e[8],h=e[9],M=e[10],d=e[11],t[0]=s,t[1]=l,t[2]=i,t[3]=u,t[4]=c,t[5]=E,t[6]=f,t[7]=g,t[8]=T,t[9]=h,t[10]=M,t[11]=d,t[12]=s*o+c*r+T*a+e[12],t[13]=l*o+E*r+h*a+e[13],t[14]=i*o+f*r+M*a+e[14],t[15]=u*o+g*r+d*a+e[15]),t}function d(t,e,n){const o=n[0],r=n[1],a=n[2];return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function k(t,e,n,r){let a,s,l,i,u,c,E,f,g,T,h,M,d,k,L,A,R,S,I,O,P,p,N,_,m=r[0],v=r[1],U=r[2],C=Math.hypot(m,v,U);return C<o?null:(C=1/C,m*=C,v*=C,U*=C,a=Math.sin(n),s=Math.cos(n),l=1-s,i=e[0],u=e[1],c=e[2],E=e[3],f=e[4],g=e[5],T=e[6],h=e[7],M=e[8],d=e[9],k=e[10],L=e[11],A=m*m*l+s,R=v*m*l+U*a,S=U*m*l-v*a,I=m*v*l-U*a,O=v*v*l+s,P=U*v*l+m*a,p=m*U*l+v*a,N=v*U*l-m*a,_=U*U*l+s,t[0]=i*A+f*R+M*S,t[1]=u*A+g*R+d*S,t[2]=c*A+T*R+k*S,t[3]=E*A+h*R+L*S,t[4]=i*I+f*O+M*P,t[5]=u*I+g*O+d*P,t[6]=c*I+T*O+k*P,t[7]=E*I+h*O+L*P,t[8]=i*p+f*N+M*_,t[9]=u*p+g*N+d*_,t[10]=c*p+T*N+k*_,t[11]=E*p+h*N+L*_,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function L(t,e,n){const o=Math.sin(n),r=Math.cos(n),a=e[4],s=e[5],l=e[6],i=e[7],u=e[8],c=e[9],E=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*r+u*o,t[5]=s*r+c*o,t[6]=l*r+E*o,t[7]=i*r+f*o,t[8]=u*r-a*o,t[9]=c*r-s*o,t[10]=E*r-l*o,t[11]=f*r-i*o,t}function A(t,e,n){const o=Math.sin(n),r=Math.cos(n),a=e[0],s=e[1],l=e[2],i=e[3],u=e[8],c=e[9],E=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r-u*o,t[1]=s*r-c*o,t[2]=l*r-E*o,t[3]=i*r-f*o,t[8]=a*o+u*r,t[9]=s*o+c*r,t[10]=l*o+E*r,t[11]=i*o+f*r,t}function R(t,e,n){const o=Math.sin(n),r=Math.cos(n),a=e[0],s=e[1],l=e[2],i=e[3],u=e[4],c=e[5],E=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r+u*o,t[1]=s*r+c*o,t[2]=l*r+E*o,t[3]=i*r+f*o,t[4]=u*r-a*o,t[5]=c*r-s*o,t[6]=E*r-l*o,t[7]=f*r-i*o,t}function S(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function I(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e,n){let r,a,s,l=n[0],i=n[1],u=n[2],c=Math.hypot(l,i,u);return c<o?null:(c=1/c,l*=c,i*=c,u*=c,r=Math.sin(e),a=Math.cos(e),s=1-a,t[0]=l*l*s+a,t[1]=i*l*s+u*r,t[2]=u*l*s-i*r,t[3]=0,t[4]=l*i*s-u*r,t[5]=i*i*s+a,t[6]=u*i*s+l*r,t[7]=0,t[8]=l*u*s+i*r,t[9]=i*u*s-l*r,t[10]=u*u*s+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function P(t,e){const n=Math.sin(e),o=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t,e){const n=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,e){const n=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e,n){const o=e[0],r=e[1],a=e[2],s=e[3],l=o+o,i=r+r,u=a+a,c=o*l,E=o*i,f=o*u,g=r*i,T=r*u,h=a*u,M=s*l,d=s*i,k=s*u;return t[0]=1-(g+h),t[1]=E+k,t[2]=f-d,t[3]=0,t[4]=E-k,t[5]=1-(c+h),t[6]=T+M,t[7]=0,t[8]=f+d,t[9]=T-M,t[10]=1-(c+g),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function m(t,e){const n=new r(3),o=-e[0],a=-e[1],s=-e[2],l=e[3],i=e[4],u=e[5],c=e[6],E=e[7],f=o*o+a*a+s*s+l*l;return f>0?(n[0]=2*(i*l+E*o+u*s-c*a)/f,n[1]=2*(u*l+E*a+c*o-i*s)/f,n[2]=2*(c*l+E*s+i*a-u*o)/f):(n[0]=2*(i*l+E*o+u*s-c*a),n[1]=2*(u*l+E*a+c*o-i*s),n[2]=2*(c*l+E*s+i*a-u*o)),_(t,e,n),t}function v(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function U(t,e){const n=e[0],o=e[1],r=e[2],a=e[4],s=e[5],l=e[6],i=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,o,r),t[1]=Math.hypot(a,s,l),t[2]=Math.hypot(i,u,c),t}function C(t,e){const n=new r(3);U(n,e);const o=1/n[0],a=1/n[1],s=1/n[2],l=e[0]*o,i=e[1]*a,u=e[2]*s,c=e[4]*o,E=e[5]*a,f=e[6]*s,g=e[8]*o,T=e[9]*a,h=e[10]*s,M=l+E+h;let d=0;return M>0?(d=2*Math.sqrt(M+1),t[3]=.25*d,t[0]=(f-T)/d,t[1]=(g-u)/d,t[2]=(i-c)/d):l>E&&l>h?(d=2*Math.sqrt(1+l-E-h),t[3]=(f-T)/d,t[0]=.25*d,t[1]=(i+c)/d,t[2]=(g+u)/d):E>h?(d=2*Math.sqrt(1+E-l-h),t[3]=(g-u)/d,t[0]=(i+c)/d,t[1]=.25*d,t[2]=(f+T)/d):(d=2*Math.sqrt(1+h-l-E),t[3]=(i-c)/d,t[0]=(g+u)/d,t[1]=(f+T)/d,t[2]=.25*d),t}function F(t,e,n,o){e[0]=o[12],e[1]=o[13],e[2]=o[14];const r=o[0],a=o[1],s=o[2],l=o[4],i=o[5],u=o[6],c=o[8],E=o[9],f=o[10];n[0]=Math.hypot(r,a,s),n[1]=Math.hypot(l,i,u),n[2]=Math.hypot(c,E,f);const g=1/n[0],T=1/n[1],h=1/n[2],M=r*g,d=a*T,k=s*h,L=l*g,A=i*T,R=u*h,S=c*g,I=E*T,O=f*h,P=M+A+O;let p=0;return P>0?(p=2*Math.sqrt(P+1),t[3]=.25*p,t[0]=(R-I)/p,t[1]=(S-k)/p,t[2]=(d-L)/p):M>A&&M>O?(p=2*Math.sqrt(1+M-A-O),t[3]=(R-I)/p,t[0]=.25*p,t[1]=(d+L)/p,t[2]=(S+k)/p):A>O?(p=2*Math.sqrt(1+A-M-O),t[3]=(S-k)/p,t[0]=(d+L)/p,t[1]=.25*p,t[2]=(R+I)/p):(p=2*Math.sqrt(1+O-M-A),t[3]=(d-L)/p,t[0]=(S+k)/p,t[1]=(R+I)/p,t[2]=.25*p),t}function b(t,e,n,o){const r=e[0],a=e[1],s=e[2],l=e[3],i=r+r,u=a+a,c=s+s,E=r*i,f=r*u,g=r*c,T=a*u,h=a*c,M=s*c,d=l*i,k=l*u,L=l*c,A=o[0],R=o[1],S=o[2];return t[0]=(1-(T+M))*A,t[1]=(f+L)*A,t[2]=(g-k)*A,t[3]=0,t[4]=(f-L)*R,t[5]=(1-(E+M))*R,t[6]=(h+d)*R,t[7]=0,t[8]=(g+k)*S,t[9]=(h-d)*S,t[10]=(1-(E+T))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function B(t,e,n,o,r){const a=e[0],s=e[1],l=e[2],i=e[3],u=a+a,c=s+s,E=l+l,f=a*u,g=a*c,T=a*E,h=s*c,M=s*E,d=l*E,k=i*u,L=i*c,A=i*E,R=o[0],S=o[1],I=o[2],O=r[0],P=r[1],p=r[2],N=(1-(h+d))*R,_=(g+A)*R,m=(T-L)*R,v=(g-A)*S,U=(1-(f+d))*S,C=(M+k)*S,F=(T+L)*I,b=(M-k)*I,B=(1-(f+h))*I;return t[0]=N,t[1]=_,t[2]=m,t[3]=0,t[4]=v,t[5]=U,t[6]=C,t[7]=0,t[8]=F,t[9]=b,t[10]=B,t[11]=0,t[12]=n[0]+O-(N*O+v*P+F*p),t[13]=n[1]+P-(_*O+U*P+b*p),t[14]=n[2]+p-(m*O+C*P+B*p),t[15]=1,t}function y(t,e){const n=e[0],o=e[1],r=e[2],a=e[3],s=n+n,l=o+o,i=r+r,u=n*s,c=o*s,E=o*l,f=r*s,g=r*l,T=r*i,h=a*s,M=a*l,d=a*i;return t[0]=1-E-T,t[1]=c+d,t[2]=f-M,t[3]=0,t[4]=c-d,t[5]=1-u-T,t[6]=g+h,t[7]=0,t[8]=f+M,t[9]=g-h,t[10]=1-u-E,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function D(t,e,n,o,r,a,s){const l=1/(n-e),i=1/(r-o),u=1/(a-s);return t[0]=2*a*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*i,t[6]=0,t[7]=0,t[8]=(n+e)*l,t[9]=(r+o)*i,t[10]=(s+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*u,t[15]=0,t}function x(t,e,n,o,r){const a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0){const e=1/(o-r);t[10]=(r+o)*e,t[14]=2*r*o*e}else t[10]=-1,t[14]=-2*o;return t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){let t=0,e=arguments.length;for(;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var G=x;function w(t,e,n,o,r){const a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0){const e=1/(o-r);t[10]=r*e,t[14]=r*o*e}else t[10]=-1,t[14]=-o;return t}function V(t,e,n,o){const r=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),l=Math.tan(e.rightDegrees*Math.PI/180),i=2/(s+l),u=2/(r+a);return t[0]=i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-l)*i*.5,t[9]=(r-a)*u*.5,t[10]=o/(n-o),t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n/(n-o),t[15]=0,t}function $(t,e,n,o,r,a,s){const l=1/(e-n),i=1/(o-r),u=1/(a-s);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*l,t[13]=(r+o)*i,t[14]=(s+a)*u,t[15]=1,t}var X=$;function Q(t,e,n,o,r,a,s){const l=1/(e-n),i=1/(o-r),u=1/(a-s);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*l,t[13]=(r+o)*i,t[14]=a*u,t[15]=1,t}function H(t,e,n,r){let a,s,l,i,u,E,f,g,T,h;const M=e[0],d=e[1],k=e[2],L=r[0],A=r[1],R=r[2],S=n[0],I=n[1],O=n[2];return Math.abs(M-S)<o&&Math.abs(d-I)<o&&Math.abs(k-O)<o?c(t):(f=M-S,g=d-I,T=k-O,h=1/Math.hypot(f,g,T),f*=h,g*=h,T*=h,a=A*T-R*g,s=R*f-L*T,l=L*g-A*f,h=Math.hypot(a,s,l),h?(h=1/h,a*=h,s*=h,l*=h):(a=0,s=0,l=0),i=g*l-T*s,u=T*a-f*l,E=f*s-g*a,h=Math.hypot(i,u,E),h?(h=1/h,i*=h,u*=h,E*=h):(i=0,u=0,E=0),t[0]=a,t[1]=i,t[2]=f,t[3]=0,t[4]=s,t[5]=u,t[6]=g,t[7]=0,t[8]=l,t[9]=E,t[10]=T,t[11]=0,t[12]=-(a*M+s*d+l*k),t[13]=-(i*M+u*d+E*k),t[14]=-(f*M+g*d+T*k),t[15]=1,t)}function q(t,e,n,o){const r=e[0],a=e[1],s=e[2],l=o[0],i=o[1],u=o[2];let c=r-n[0],E=a-n[1],f=s-n[2],g=c*c+E*E+f*f;g>0&&(g=1/Math.sqrt(g),c*=g,E*=g,f*=g);let T=i*f-u*E,h=u*c-l*f,M=l*E-i*c;return g=T*T+h*h+M*M,g>0&&(g=1/Math.sqrt(g),T*=g,h*=g,M*=g),t[0]=T,t[1]=h,t[2]=M,t[3]=0,t[4]=E*M-f*h,t[5]=f*T-c*M,t[6]=c*h-E*T,t[7]=0,t[8]=c,t[9]=E,t[10]=f,t[11]=0,t[12]=r,t[13]=a,t[14]=s,t[15]=1,t}function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Y(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function K(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function J(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function z(t,e,n,o){return t[0]=e[0]+n[0]*o,t[1]=e[1]+n[1]*o,t[2]=e[2]+n[2]*o,t[3]=e[3]+n[3]*o,t[4]=e[4]+n[4]*o,t[5]=e[5]+n[5]*o,t[6]=e[6]+n[6]*o,t[7]=e[7]+n[7]*o,t[8]=e[8]+n[8]*o,t[9]=e[9]+n[9]*o,t[10]=e[10]+n[10]*o,t[11]=e[11]+n[11]*o,t[12]=e[12]+n[12]*o,t[13]=e[13]+n[13]*o,t[14]=e[14]+n[14]*o,t[15]=e[15]+n[15]*o,t}function Z(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function tt(t,e){const n=t[0],r=t[1],a=t[2],s=t[3],l=t[4],i=t[5],u=t[6],c=t[7],E=t[8],f=t[9],g=t[10],T=t[11],h=t[12],M=t[13],d=t[14],k=t[15],L=e[0],A=e[1],R=e[2],S=e[3],I=e[4],O=e[5],P=e[6],p=e[7],N=e[8],_=e[9],m=e[10],v=e[11],U=e[12],C=e[13],F=e[14],b=e[15];return Math.abs(n-L)<=o*Math.max(1,Math.abs(n),Math.abs(L))&&Math.abs(r-A)<=o*Math.max(1,Math.abs(r),Math.abs(A))&&Math.abs(a-R)<=o*Math.max(1,Math.abs(a),Math.abs(R))&&Math.abs(s-S)<=o*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-I)<=o*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(i-O)<=o*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(u-P)<=o*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(c-p)<=o*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(E-N)<=o*Math.max(1,Math.abs(E),Math.abs(N))&&Math.abs(f-_)<=o*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(g-m)<=o*Math.max(1,Math.abs(g),Math.abs(m))&&Math.abs(T-v)<=o*Math.max(1,Math.abs(T),Math.abs(v))&&Math.abs(h-U)<=o*Math.max(1,Math.abs(h),Math.abs(U))&&Math.abs(M-C)<=o*Math.max(1,Math.abs(M),Math.abs(C))&&Math.abs(d-F)<=o*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(k-b)<=o*Math.max(1,Math.abs(k),Math.abs(b))}var et=h,nt=K}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})();